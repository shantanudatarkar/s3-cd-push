pipeline {
    agent any

    environment {
        S3_BUCKET_NAME = "dev.shan-infra"  // Replace with your S3 bucket name
    }

    stages {
        stage('Deploy to S3') {
            steps {
                script {
                    // Install and configure AWS CLI (if not already configured)
                    withCredentials'([<object of type com.cloudbees.jenkins.plugins.awscredentials.AmazonWebServicesCredentialsBinding>])' {
    
}
                    sh "aws configure set aws_access_key_id YOUR_ACCESS_KEY"
                    sh "aws configure set aws_secret_access_key YOUR_SECRET_KEY"
                    sh "aws configure set default.region YOUR_REGION"

                    // Copy index.html to S3 bucket
                    sh "aws s3 cp index.html s3://${S3_BUCKET_NAME}/index.html"
                }
            }
        }
    }
}
